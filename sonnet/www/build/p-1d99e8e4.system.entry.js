var __generator=this&&this.__generator||function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},o,r,s,i;return i={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(i[Symbol.iterator]=function(){return this}),i;function a(e){return function(t){return c([e,t])}}function c(i){if(o)throw new TypeError("Generator is already executing.");while(n)try{if(o=1,r&&(s=i[0]&2?r["return"]:i[0]?r["throw"]||((s=r["return"])&&s.call(r),0):r.next)&&!(s=s.call(r,i[1])).done)return s;if(r=0,s)i=[i[0]&2,s.value];switch(i[0]){case 0:case 1:s=i;break;case 4:n.label++;return{value:i[1],done:false};case 5:n.label++;r=i[1];i=[0];continue;case 7:i=n.ops.pop();n.trys.pop();continue;default:if(!(s=n.trys,s=s.length>0&&s[s.length-1])&&(i[0]===6||i[0]===2)){n=0;continue}if(i[0]===3&&(!s||i[1]>s[0]&&i[1]<s[3])){n.label=i[1];break}if(i[0]===6&&n.label<s[1]){n.label=s[1];s=i;break}if(s&&n.label<s[2]){n.label=s[2];n.ops.push(i);break}if(s[2])n.ops.pop();n.trys.pop();continue}i=t.call(e,n)}catch(a){i=[6,a];r=0}finally{o=s=0}if(i[0]&5)throw i[1];return{value:i[0]?i[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;for(var o=Array(e),r=0,t=0;t<n;t++)for(var s=arguments[t],i=0,a=s.length;i<a;i++,r++)o[r]=s[i];return o};System.register(["./p-286eaa2f.system.js","./p-1bc037df.system.js","./p-16145d72.system.js","./p-37e84cba.system.js","./p-b8a342eb.system.js"],(function(e){"use strict";var t,n,o,r,s,i,a,c,u,h,l;return{setters:[function(e){t=e.r;n=e.e;o=e.h;r=e.H;s=e.g},function(e){i=e.S},function(e){a=e.R},function(e){c=e.L},function(e){u=e.K;h=e.a;l=e.N}],execute:function(){var d='snt-search-combobox{display:block;position:relative;background-color:#ffffff;width:100%;background-color:transparent}snt-search-combobox input{-webkit-box-sizing:border-box;box-sizing:border-box;width:100%;height:2.525rem;font-size:0.875rem;line-height:1.25rem}snt-search-combobox input::-webkit-search-cancel-button{position:relative;right:11px;-webkit-filter:brightness(0.6) contrast(1.03) grayscale(1);filter:brightness(0.6) contrast(1.03) grayscale(1)}snt-search-combobox snt-button button{display:none;position:absolute;right:0.5rem;top:0;bottom:0;margin:auto;font-size:1.125rem;line-height:1.125rem;color:#323232}snt-search-combobox snt-layout .spacings{overflow:unset}snt-search-combobox .search-container{position:relative}snt-search-combobox :focus{outline:none}snt-search-combobox snt-button{display:none}snt-search-combobox snt-icon{margin:0 0.625rem 0 1.25rem}snt-search-combobox input{border:none;border-radius:0;background-color:transparent}snt-search-combobox ul{list-style:none;margin:0;padding:0}snt-search-combobox ul li a{text-decoration:none;color:#323232;font-size:14px;line-height:23px}snt-search-combobox .search-input-area{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;background-color:#ffffff;-webkit-box-sizing:border-box;box-sizing:border-box;border:1px solid #b2b2b2;border-radius:25px}snt-search-combobox .search-input-area:hover{border-color:#147582}snt-search-combobox .search-results-area{z-index:10;display:none;color:#323232;position:absolute;left:0;right:0;top:100%;width:100%;padding:0.625rem;-webkit-box-sizing:border-box;box-sizing:border-box;text-align:left;border:1px solid transparent;border-top:none;border-bottom-left-radius:25px;border-bottom-right-radius:25px;background-color:white;height:400px;overflow-y:scroll}@media (min-width: 768px){snt-search-combobox .search-results-area{height:auto;overflow-y:auto}}snt-search-combobox .search-results-area:before{position:absolute;content:" ";height:1px;margin-right:auto;margin-left:auto;top:0;left:0;right:0;width:calc(100% - 2rem);background-color:#147582}snt-search-combobox .result{padding:0.3125rem 0.625rem;font-size:14px;line-height:23px;border-bottom:1px solid #e5e5e5}snt-search-combobox .result:last-child{border-bottom:none}snt-search-combobox.search-combobox-has-focus snt-backdrop{display:block;background-color:rgba(51, 51, 51, 0.75);z-index:5}snt-search-combobox.search-combobox-has-focus .search-input-area{border:3px solid #147582;margin:-2px}snt-search-combobox .result{cursor:default}snt-search-combobox .result:hover,snt-search-combobox .result.result-is-focused{background-color:#f8f8f8}snt-search-combobox .result b{pointer-events:none}snt-search-combobox .result:active{background-color:#147582}snt-search-combobox .result:active a{color:white}snt-search-combobox.theme-default .search-input-area{background-color:#ffffff;border:1px solid #b2b2b2}snt-search-combobox.theme-default .search-input-area:hover{border-color:#147582}snt-search-combobox.theme-default.search-combobox-has-focus .search-input-area{border:3px solid #147582}snt-search-combobox.theme-neutral .search-input-area{background-color:#ffffff;border:1px solid #e5e5e5}snt-search-combobox.theme-neutral .search-input-area:hover{border-color:#6ebac5}snt-search-combobox.theme-neutral.search-combobox-has-focus .search-input-area{border:3px solid #6ebac5}snt-search-combobox.search-combobox-is-expanded.theme-neutral .search-input-area,snt-search-combobox.search-combobox-is-expanded.theme-default .search-input-area{border:1px solid transparent;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom:none;pointer-events:all;z-index:10;position:relative;margin:0px}snt-search-combobox.search-combobox-is-expanded.theme-neutral .search-results-area,snt-search-combobox.search-combobox-is-expanded.theme-default .search-results-area{display:block}@media screen and (device-aspect-ratio: 375/667){input[type=search]{font-size:14px}}';var b=undefined&&undefined.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{c(o.next(e))}catch(t){s(t)}}function a(e){try{c(o["throw"](e))}catch(t){s(t)}}function c(e){e.done?n(e.value):r(e.value).then(i,a)}c((o=o.apply(e,t||[])).next())}))};var f=e("snt_search_combobox",function(){function e(e){t(this,e);this.sntInput=n(this,"sntInput",7);this.sntFocus=n(this,"sntFocus",7);this.sntBlur=n(this,"sntBlur",7);this.sntSearchSubmitted=n(this,"sntSearchSubmitted",7);this.focused=false;this.expanded=false;this.autoComplete=false;this.ariaLabelledby=i.empty();this.ariaLabel=i.empty();this.languageJson=i.empty();this.languageString=i.empty();this.searchFunctionRef=i.empty();this.value="";this.activeIndex=-1}e.prototype.activeIndexChange=function(e){if(this.autoComplete&&e!=-1){this.value=this.SearchSuggestion[this.activeIndex].title}};e.prototype.componentWillLoad=function(){var e=this;if(i.isEmpty(this.hostElement.id)){throw new Error(f.TAG_NAME+" must have a valid id.")}if(this.searchFunctionRef){a.getObjectReference(this.searchFunctionRef,window).then((function(t){e.searchFunction=t}))}this.languageVariables=c.getVariablesFromString(this.languageString,["search"]);this.initKeyboardEventProcessor()};e.prototype.onClick=function(e){this.focused=this.expanded=false;e.target.focus()};e.prototype.setFocus=function(){return b(this,void 0,void 0,(function(){return __generator(this,(function(e){if(this.input){this.input.focus()}return[2,Promise.resolve()]}))}))};e.prototype.getInputElement=function(){return b(this,void 0,void 0,(function(){return __generator(this,(function(e){return[2,Promise.resolve(this.input)]}))}))};e.prototype.setSearchSuggestions=function(e){return b(this,void 0,void 0,(function(){return __generator(this,(function(t){if(e){this.SearchSuggestion=e;this.expanded=this.SearchSuggestion.length>0}return[2]}))}))};e.prototype.onFocus=function(){this.focused=true;this.sntFocus.emit();this.updateSearchSuggestions()};e.prototype.onInput=function(e){var t=e.target;if(t){this.value=t.value;this.userInput=t.value}this.updateSearchSuggestions();this.sntInput.emit(e)};e.prototype.onBlur=function(){if(!this.expanded){this.focused=false}};e.prototype.onListboxClick=function(e){if(e.target){if(e.target.nodeName=="LI"){this.activeIndex=e.target.dataset.index;this.selectItem();this.focused=false}}};e.prototype.selectItem=function(){if(this.activeIndex!==-1){this.value=this.SearchSuggestion[this.activeIndex].title;this.expanded=false}};e.prototype.clear=function(){this.expanded=false;this.value=i.empty()};e.prototype.dismiss=function(){this.focused=this.expanded=false};e.prototype.updateSearchSuggestions=function(){return b(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:if(!this.searchFunction)return[3,2];e=this;return[4,this.searchFunction(this.input.value,c.isFrench()?c.LANGUAGE_ID.fr:c.LANGUAGE_ID.en,10)];case 1:e.SearchSuggestion=t.sent();this.expanded=this.SearchSuggestion.length>0;t.label=2;case 2:return[2]}}))}))};e.prototype.initKeyboardEventProcessor=function(){var e=this;this.keyboardEventProcessor=u.newInstance().withKey(h.ARROW_UP,(function(){return e.setNextActiveIndex(l.BACKWARDS)})).withKey(h.ARROW_DOWN,(function(){return e.setNextActiveIndex(l.FORWARDS)})).withKey(h.HOME,(function(){return e.setNextActiveIndex(l.FIRST)})).withKey(h.END,(function(){return e.setNextActiveIndex(l.LAST)})).withKey(h.ENTER,(function(){return e.submit()})).withKey(h.ESCAPE,(function(){return e.clear()})).withKey(h.TAB,(function(){return e.dismiss()})).build()};e.prototype.processKeyboardEvent=function(e){this.keyboardEventProcessor.process(e)};e.prototype.setNextActiveIndex=function(e){if(e==l.BACKWARDS){if(this.activeIndex<=0){this.activeIndex=-1;this.restoreUserInput()}else{this.activeIndex-=1}}else if(e==l.FORWARDS){if(this.activeIndex>=this.SearchSuggestion.length-1){this.activeIndex=-1;this.restoreUserInput()}else{this.activeIndex+=1}}else if(e==l.FIRST){this.activeIndex=0}else if(e==l.LAST){this.activeIndex=this.SearchSuggestion.length-1}};e.prototype.highlightPattern=function(e,t){var n=e.split(t);if(n.length<=1){return e}var r=e.match(t);return n.reduce((function(e,t,n){return r[n]?__spreadArrays(e,[t,o("b",null,r[n])]):__spreadArrays(e,[t])}),[])};e.prototype.submit=function(){this.selectItem();if(this.activeIndex!=-1){window.location.href=this.SearchSuggestion[this.activeIndex].url}else{this.sntSearchSubmitted.emit({keywords:this.value});this.expanded=false}};e.prototype.restoreUserInput=function(){this.value=this.userInput};e.prototype.render=function(){var e=this;var t=this.hostElement.id?this.hostElement.id+"-combobox":null;var n=this.hostElement.id?this.hostElement.id+"-textbox":null;var s=this.hostElement.id?this.hostElement.id+"-listbox":null;var a="result-item-";return o(r,{class:{"search-combobox-has-focus":this.focused,"search-combobox-is-expanded":this.expanded}},o("snt-layout",{padding:this.padding},o("div",{class:"search-container"},o("div",{role:"combobox",id:t,"aria-haspopup":"listbox","aria-owns":s,"aria-expanded":this.expanded.toString(),class:"search-input-area"},o("snt-icon",{styleClasses:"iconNavSearch"}),i.notEmpty(this.ariaLabelledby)?o("label",{htmlFor:n,id:this.ariaLabelledby,class:"sr-only"},this.languageVariables.get("search")):null,o("input",{type:"search",id:n,role:"textbox","aria-labelledby":this.ariaLabelledby||null,"aria-autocomplete":"both","aria-controls":s,"aria-activedescendant":this.activeIndex>=0?a+this.activeIndex:null,onInput:this.onInput.bind(this),onFocus:this.onFocus.bind(this),onBlur:this.onBlur.bind(this),onKeyDown:this.processKeyboardEvent.bind(this),placeholder:this.languageVariables.get("search"),ref:function(t){return e.input=t},value:this.value,autoComplete:"off"})),o("ul",{id:s,role:"listbox",class:"search-results-area",onClick:this.onListboxClick.bind(this)},this.focused&&this.SearchSuggestion&&this.SearchSuggestion.length>0?this.SearchSuggestion.map((function(t,n){return o("li",{role:"option","aria-selected":n==e.activeIndex,"aria-label":e.languageVariables.get("link to")+t.title,id:a+n,class:{result:true,"result-is-focused":n==e.activeIndex},"data-index":n},o("a",{href:t.url},e.highlightPattern(t.title,new RegExp(e.input.value,"ig"))))})):null)),this.focused&&this.expanded?o("snt-backdrop",null):null))};Object.defineProperty(e.prototype,"hostElement",{get:function(){return s(this)},enumerable:false,configurable:true});Object.defineProperty(e,"watchers",{get:function(){return{activeIndex:["activeIndexChange"]}},enumerable:false,configurable:true});return e}());f.TAG_NAME="snt-search-combobox";f.style=d;var p=function(){function e(){}e.updateQueryStringParameter=function(e,t,n){if(!e)e=window.location.href;var o=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi"),r;if(o.test(e)){if(typeof n!=="undefined"&&n!==null)return e.replace(o,"$1"+t+"="+n+"$2$3");else{r=e.split("#");e=r[0].replace(o,"$1$3").replace(/(&|\?)$/,"");if(typeof r[1]!=="undefined"&&r[1]!==null)e+="#"+r[1];return e}}else{if(typeof n!=="undefined"&&n!==null){var s=e.indexOf("?")!==-1?"&":"?";r=e.split("#");e=r[0]+s+t+"="+n;if(typeof r[1]!=="undefined"&&r[1]!==null)e+="#"+r[1];return e}else return e}};return e}();var g="snt-search-typeahead{position:relative;width:100%;max-width:47rem}snt-search-typeahead snt-search-combox .search-input-area{border-color:#e5e5e5}";var x=undefined&&undefined.__awaiter||function(e,t,n,o){function r(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,s){function i(e){try{c(o.next(e))}catch(t){s(t)}}function a(e){try{c(o["throw"](e))}catch(t){s(t)}}function c(e){e.done?n(e.value):r(e.value).then(i,a)}c((o=o.apply(e,t||[])).next())}))};var m=e("snt_search_typeahead",function(){function e(e){t(this,e);this.baseHref=i.empty();this.searchHref=this.baseHref;this.languageStrings={};this.languageJson=i.empty()}e.prototype.handleSearchButtonClick=function(e){if(e.target==this.searchSntButton){window.location.href=this.searchHref}};e.prototype.onKeyDown=function(){window.location.href=this.searchHref};e.prototype.onInput=function(){return x(this,void 0,void 0,(function(){var e;return __generator(this,(function(t){switch(t.label){case 0:return[4,this.searchComboBox.getInputElement()];case 1:e=t.sent();this.searchHref=p.updateQueryStringParameter(this.baseHref,"es",encodeURIComponent(e.value));return[2]}}))}))};e.prototype.componentWillLoad=function(){try{this.languageJson&&(this.languageStrings=JSON.parse(this.languageJson))}catch(e){console.error(e)}this.baseHref=this.languageStrings["searchUrl"]};e.prototype.render=function(){var e=this;return o("div",{class:"search-input-area"},o("snt-search-combobox",{ref:function(t){return e.searchComboBox=t},id:this.searchComboboxId,class:"theme-neutral","auto-complete":true,padding:"none",onSntInput:function(){return x(e,void 0,void 0,(function(){return __generator(this,(function(e){switch(e.label){case 0:return[4,this.onInput()];case 1:e.sent();return[2]}}))}))},onSntSearchSubmitted:this.onKeyDown.bind(this),"language-string":this.languageJson,"search-para-name":"es"}))};return e}());m.TAG_NAME="snt-search-typeahead";m.style=g}}}));