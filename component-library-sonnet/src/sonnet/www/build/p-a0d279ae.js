import{r as t,h as n,H as e}from"./p-75b8bc7c.js";import{R as r}from"./p-7aaa3e9e.js";class o{constructor(){this.configurations=new Map}add(t){this.configurations.set(t.type,t)}remove(t){this.configurations.delete(t.type)}findByType(t){return this.configurations.get(t)}hasConfigurations(){return this.configurations.size>0}getConfigurations(){return this.configurations}}var s,i;!function(t){t.CLICK="click",t.KEYDOWN="keydown"}(s||(s={})),function(t){function n(n){if(n)return null!=t[n.toUpperCase().trim()];throw new Error(`Argument with value ${n} must be a valid string.`)}t.exists=n,t.findByValue=function(e){if(n(e))return t[e.toUpperCase().trim()];throw new Error(`Argument text with value ${e} does not exist.`)}}(s||(s={})),function(t){t.ENTER="enter",t.SPACE="space",t.ESCAPE="escape",t.BACKSPACE="backspace",t.TAB="tab",t.ARROW_UP="arrow-up",t.ARROW_DOWN="arrow-down",t.ARROW_RIGHT="arrow-right",t.ARROW_LEFT="arrow-left",t.HOME="home",t.END="end",t.DELETE="delete",t.PAGE_UP="page-up",t.PAGE_DOWN="page-down",t.ASTERISK="*"}(i||(i={})),function(t){function n(n){const e=n.toUpperCase().trim().replace("-","_");return null!=t[e]}t.exists=n,t.findByValue=function(e){if(n(e)){const n=e.toUpperCase().trim().replace("-","_");return e?t[n]:null}throw Error(`Argument text with value ${e} does not exist.`)}}(i||(i={}));class a{constructor(t,n){this.type=t,this.filters=n}hasKeys(){return this.type==s.KEYDOWN&&this.filters.size>0}getKeys(){const t=new Set;return this.hasKeys()&&this.filters.forEach(n=>{t.add(n.getKey())}),t}}class u{constructor(t){this.key=t}getKey(){return this.key}isMouseEvent(){return null==this.key||!1}isKeyboardEvent(){return!(null==this.key)}static find(t){return this.VALUES.get(t)}}u.VALUES=new Map([[i.ENTER,new u("Enter")],[i.SPACE,new u(" ")],[i.ESCAPE,new u("Escape")],[i.BACKSPACE,new u("Backspace")],[i.TAB,new u("Tab")],[i.ARROW_UP,new u("ArrowUp")],[i.ARROW_DOWN,new u("ArrowDown")],[i.ARROW_RIGHT,new u("ArrowRight")],[i.ARROW_LEFT,new u("ArrowLeft")],[i.HOME,new u("Home")],[i.END,new u("End")],[i.DELETE,new u("Delete")],[i.PAGE_UP,new u("PageUp")],[i.PAGE_DOWN,new u("PageDown")]]);const c=class{constructor(n){t(this,n)}componentWillLoad(){}componentWillUpdate(){}componentDidLoad(){}render(){return n(e,null,n("slot",null))}};c.TAG_NAME="snt-event";class w{static processEvent(t,n,e,o){if(n.hasConfigurations()){const i=s.exists(t.detail.type)?s.findByValue(t.detail.type):null,a=i?n.findByType(i):null;if(a){if(a.hasKeys()&&!a.getKeys().has(t.detail.key))return;r.getObjectReference(e).then(n=>{n(t,o)})}}}static buildConfiguration(t){const n=new o,e=t.querySelectorAll(c.TAG_NAME);if(!(e&&e.length>0))throw new Error("Configuration must contain at least one event configuration element.");return Array.from(e).forEach(t=>{let e=null;if(t.filters){const n=t.filters.split(" ");e=new Set(n.filter(t=>i.exists(t)).map(t=>u.find(i.findByValue(t))))}const r=s.exists(t.type)?s.findByValue(t.type):null;if(!r)throw new Error("Event configuration type not supported.");if(r==s.KEYDOWN&&null==e)throw new Error("Event type keydown must have a valid filter");n.add(new a(r,e))}),n}}class l{constructor(){}static newInstanceof(){return new l}withComponent(t){return this.element=t,this}build(){if(this.element)return w.buildConfiguration(this.element);throw new Error}}export{l as E,w as a,c as b}